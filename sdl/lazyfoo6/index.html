<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>SDL Chapter 6 | Niiok's Blog</title>
<meta name=keywords content>
<meta name=description content="Intro
 How Chapter_6 works? SDL_image.h    Function
 IMG_Init() IMG_GetError() IMG_Load() IMG_Quit()    Struct
 nothing new    Term
 IMG_Init()  IMG_INIT_PNG IMG_INIT_JPG IMG_INIT_TIF IMG_INIT_*       Intro   How Chapter_6 works?
 init()  SDL_Init() SDL_CreateWindow() IMG_Init() SDL_GetWindowSurface()   loadMedia()  loadSurface()  load PNG file on intermediate surface with IMG_Load(). optimize loaded intermediate surface into optimized surface with SDL_ConvertSurface().">
<meta name=author content="Niiok">
<link rel=canonical href=https://niiok.github.io/sdl/lazyfoo6/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://niiok.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://niiok.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://niiok.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=https://niiok.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://niiok.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><meta property="og:title" content="SDL Chapter 6">
<meta property="og:description" content="Intro
 How Chapter_6 works? SDL_image.h    Function
 IMG_Init() IMG_GetError() IMG_Load() IMG_Quit()    Struct
 nothing new    Term
 IMG_Init()  IMG_INIT_PNG IMG_INIT_JPG IMG_INIT_TIF IMG_INIT_*       Intro   How Chapter_6 works?
 init()  SDL_Init() SDL_CreateWindow() IMG_Init() SDL_GetWindowSurface()   loadMedia()  loadSurface()  load PNG file on intermediate surface with IMG_Load(). optimize loaded intermediate surface into optimized surface with SDL_ConvertSurface().">
<meta property="og:type" content="article">
<meta property="og:url" content="https://niiok.github.io/sdl/lazyfoo6/"><meta property="article:section" content="SDL">
<meta property="article:published_time" content="1970-01-01T00:00:00+00:00">
<meta property="article:modified_time" content="1970-01-01T00:00:00+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="SDL Chapter 6">
<meta name=twitter:description content="Intro
 How Chapter_6 works? SDL_image.h    Function
 IMG_Init() IMG_GetError() IMG_Load() IMG_Quit()    Struct
 nothing new    Term
 IMG_Init()  IMG_INIT_PNG IMG_INIT_JPG IMG_INIT_TIF IMG_INIT_*       Intro   How Chapter_6 works?
 init()  SDL_Init() SDL_CreateWindow() IMG_Init() SDL_GetWindowSurface()   loadMedia()  loadSurface()  load PNG file on intermediate surface with IMG_Load(). optimize loaded intermediate surface into optimized surface with SDL_ConvertSurface().">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"SDLs","item":"https://niiok.github.io/sdl/"},{"@type":"ListItem","position":2,"name":"SDL Chapter 6","item":"https://niiok.github.io/sdl/lazyfoo6/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"SDL Chapter 6","name":"SDL Chapter 6","description":"Intro\n How Chapter_6 works? SDL_image.h    Function\n IMG_Init() IMG_GetError() IMG_Load() IMG_Quit()    Struct\n nothing new    Term\n IMG_Init()  IMG_INIT_PNG IMG_INIT_JPG IMG_INIT_TIF IMG_INIT_*       Intro   How Chapter_6 works?\n init()  SDL_Init() SDL_CreateWindow() IMG_Init() SDL_GetWindowSurface()   loadMedia()  loadSurface()  load PNG file on intermediate surface with IMG_Load(). optimize loaded intermediate surface into optimized surface with SDL_ConvertSurface().","keywords":[],"articleBody":"  Intro\n How Chapter_6 works? SDL_image.h    Function\n IMG_Init() IMG_GetError() IMG_Load() IMG_Quit()    Struct\n nothing new    Term\n IMG_Init()  IMG_INIT_PNG IMG_INIT_JPG IMG_INIT_TIF IMG_INIT_*       Intro   How Chapter_6 works?\n init()  SDL_Init() SDL_CreateWindow() IMG_Init() SDL_GetWindowSurface()   loadMedia()  loadSurface()  load PNG file on intermediate surface with IMG_Load(). optimize loaded intermediate surface into optimized surface with SDL_ConvertSurface().  free memory of intermediate surface with SDL_FreeSurface().       start loop untill variable quit is true.  start loop that calls SDL_PollEvent() untill it returns 0.  if SDL_Event.type is SDL_QUIT, quit is true( which means first loop will end). copy screen(Blit) with SDL_BlitSurface() from chosen PNG surface to screen surface. update window with SDL_UpdateWindowSurface() to refresh and show what we’ve done.     close()  SDL_FreeSurface() SDL_DestroyWindow() IMG_Quit() SDL_Quit()      SDL_image.h\n SDL_image is used in this chapter if you’re running on Windows, you need to place dll file inside proper system directory (like Windows/System32)  if you have dll error, use where  command to find error-able dll’s location   writer is using IMG_2.0.4 version on SDL_2.0.9 version     Function   IMG_Init()\nint IMG_Init( int flags );  flsgs : bit flag indicates which image format to use while program return  flags that loaded successfully on both entire, partial success 0 on failure     IMG_isJPG(), IMG_isPNG(), IMG_isTIF() doesn’t requires its initialization. you can check currently loaded system with calliing this function with 0.\n   IMG_GetError()\nchar* IMG_GetError( void );  return  char array with recent error information on error empty array on no error happen     IMG version of SDL_GetError()\n   IMG_Load()\nSLD_Surface* IMG_Load( const char* file );  file : image file name string (char array/pointer) return  image-loaded surface’s address on success NULL on error     this function calls IMG_LoadTyped_RW() inside logic. since this function returns surface, call SDL_FreeSurface() after use of this surface.\n   IMG_Quit()\nvoid IMG_Quit( void );  parameter and return are both void   this function called after all IMG jobs are done. SDL recommend to call this function essentially at end of program if you used IMG subsystem.\n    Struct  nothing new   Term  IMG_Init()  IMG_INIT_PNG IMG_INIT_JPG IMG_INIT_TIF IMG_INIT_*    ","wordCount":"318","inLanguage":"en","datePublished":"1970-01-01T00:00:00Z","dateModified":"1970-01-01T00:00:00Z","author":{"@type":"Person","name":"Niiok"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://niiok.github.io/sdl/lazyfoo6/"},"publisher":{"@type":"Organization","name":"Niiok's Blog","logo":{"@type":"ImageObject","url":"https://niiok.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://niiok.github.io/ accesskey=h title="Niiok's Blog (Alt + H)">Niiok's Blog</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://niiok.github.io/categories/ title=Categories>
<span>Categories</span>
</a>
</li>
<li>
<a href=https://niiok.github.io/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://niiok.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://niiok.github.io/sdl/>SDLs</a></div>
<h1 class=post-title>
SDL Chapter 6
</h1>
<div class=post-meta><span title="1970-01-01 00:00:00 +0000 UTC">January 1, 1970</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Niiok&nbsp;|&nbsp;<a href=https://github.com/Niiok/niiok.github.io/tree/master/content/SDL/lazyfoo6.md rel="noopener noreferrer" target=_blank>Suggest Changes</a>
</div>
</header>
<div class=post-content><ul>
<li>
<p><a href=#intro>Intro</a></p>
<ul>
<li>How Chapter_6 works?</li>
<li>SDL_image.h</li>
</ul>
</li>
<li>
<p><a href=#function>Function</a></p>
<ul>
<li>IMG_Init()</li>
<li>IMG_GetError()</li>
<li>IMG_Load()</li>
<li>IMG_Quit()</li>
</ul>
</li>
<li>
<p><a href=#struct>Struct</a></p>
<ul>
<li>nothing new</li>
</ul>
</li>
<li>
<p><a href=#term>Term</a></p>
<ul>
<li>IMG_Init()
<ul>
<li>IMG_INIT_PNG</li>
<li>IMG_INIT_JPG</li>
<li>IMG_INIT_TIF</li>
<li>IMG_INIT_*</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id=intro>Intro<a hidden class=anchor aria-hidden=true href=#intro>#</a></h2>
<ul>
<li>
<p>How Chapter_6 works?</p>
<ol>
<li>init()
<ol>
<li><em><code>SDL_Init()</code></em></li>
<li><em><code>SDL_CreateWindow()</code></em></li>
<li><em><code>IMG_Init()</code></em></li>
<li><em><code>SDL_GetWindowSurface()</code></em></li>
</ol>
</li>
<li>loadMedia()
<ol>
<li>loadSurface()
<ol>
<li>load PNG file on intermediate surface with <em><code>IMG_Load()</code></em>.</li>
<li>optimize loaded intermediate surface into optimized surface with <em><code>SDL_ConvertSurface()</code></em>.
<ul>
<li>free memory of intermediate surface with <em><code>SDL_FreeSurface()</code></em>.</li>
</ul>
</li>
</ol>
</li>
</ol>
</li>
<li>start loop untill variable <em><code>quit</code></em> is true.
<ol>
<li>start loop that calls <em><code>SDL_PollEvent()</code></em> untill it returns 0.
<ol>
<li>if <em><code>SDL_Event</code></em>.type is <em><code>SDL_QUIT</code></em>, quit is true( which means first loop will end).</li>
<li>copy screen(Blit) with <em><code>SDL_BlitSurface()</code></em> from chosen PNG surface to screen surface.</li>
<li>update window with <em><code>SDL_UpdateWindowSurface()</code></em> to refresh and show what we&rsquo;ve done.</li>
</ol>
</li>
</ol>
</li>
<li>close()
<ol>
<li><em><code>SDL_FreeSurface()</code></em></li>
<li><em><code>SDL_DestroyWindow()</code></em></li>
<li><em><code>IMG_Quit()</code></em></li>
<li><em><code>SDL_Quit()</code></em></li>
</ol>
</li>
</ol>
</li>
<li>
<p>SDL_image.h</p>
<ul>
<li>SDL_image is used in this chapter</li>
<li>if you&rsquo;re running on Windows, you need to place dll file inside proper system directory (like Windows/System32)
<ul>
<li>if you have dll error, use <code>where &lt;dll_name.dll></code> command to find error-able dll&rsquo;s location</li>
</ul>
</li>
<li>writer is using IMG_2.0.4 version on SDL_2.0.9 version</li>
</ul>
</li>
</ul>
<hr>
<h2 id=function>Function<a hidden class=anchor aria-hidden=true href=#function>#</a></h2>
<ul>
<li>
<p>IMG_Init()</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C data-lang=C><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>IMG_Init</span>( <span style=color:#66d9ef>int</span> flags );
</code></pre></div><ul>
<li><em><code>flsgs</code></em> : bit flag indicates which image format to use while program</li>
<li><strong>return</strong>
<ul>
<li><strong>flags that loaded successfully</strong> on both entire, partial success</li>
<li><strong>0</strong> on failure</li>
</ul>
</li>
</ul>
<blockquote>
<p>IMG_isJPG(), IMG_isPNG(), IMG_isTIF() doesn&rsquo;t requires its initialization. <br>
you can check currently loaded system with calliing this function with 0.</p>
</blockquote>
</li>
<li>
<p>IMG_GetError()</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C data-lang=C><span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> <span style=color:#a6e22e>IMG_GetError</span>( <span style=color:#66d9ef>void</span> );
</code></pre></div><ul>
<li><strong>return</strong>
<ul>
<li><strong>char array with recent error information</strong> on error</li>
<li><strong>empty array</strong> on no error happen</li>
</ul>
</li>
</ul>
<blockquote>
<p>IMG version of SDL_GetError()</p>
</blockquote>
</li>
<li>
<p>IMG_Load()</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C data-lang=C>SLD_Surface<span style=color:#f92672>*</span> <span style=color:#a6e22e>IMG_Load</span>( <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> file );
</code></pre></div><ul>
<li><em><code>file</code></em> : image file name string (char array/pointer)</li>
<li><strong>return</strong>
<ul>
<li><strong>image-loaded surface&rsquo;s address</strong> on success</li>
<li><strong>NULL</strong> on error</li>
</ul>
</li>
</ul>
<blockquote>
<p>this function calls IMG_LoadTyped_RW() inside logic. <br>
since this function returns surface, call SDL_FreeSurface() after use of this surface.</p>
</blockquote>
</li>
<li>
<p>IMG_Quit()</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C data-lang=C><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>IMG_Quit</span>( <span style=color:#66d9ef>void</span> );
</code></pre></div><ul>
<li><strong>parameter and return are both void</strong></li>
</ul>
<blockquote>
<p>this function called after all IMG jobs are done. <br>
SDL recommend to call this function essentially at end of program if you used IMG subsystem.</p>
</blockquote>
</li>
</ul>
<hr>
<h2 id=struct>Struct<a hidden class=anchor aria-hidden=true href=#struct>#</a></h2>
<ul>
<li>nothing new</li>
</ul>
<hr>
<h2 id=term>Term<a hidden class=anchor aria-hidden=true href=#term>#</a></h2>
<ul>
<li>IMG_Init()
<ul>
<li>IMG_INIT_PNG</li>
<li>IMG_INIT_JPG</li>
<li>IMG_INIT_TIF</li>
<li>IMG_INIT_*</li>
</ul>
</li>
</ul>
</div>
<footer class=post-footer>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://niiok.github.io/>Niiok's Blog</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>