---
title: "Unreal Kickstart - Rendering"
author: ["Sjoerd De Jong", "Mario Palmero"]
categories: ["Unreal", "Sjoerd De Jong"]
date: 2022-04-26T17:40:24+09:00
weight: 1


# searchHidden: true

#cover:
#    image: "<image path/url>"    # can also paste direct link from external site
#    alt: "<alt text>"
#    caption: "<text>"
#    relative: false 	# To use relative path for cover image, used in hugo Page-bundles

#ShowBreadCrumbs: false
---


# Intro and Philosophy

## History
- rendering has always been focus point
- **best visual** at the **best performance**
- **all-compatible set of tools** for any renderer or platform

### UE1 (1997)
- blended colored light
- dynamic, static light
- volumetric light, lensflare, perfect mirrors, procedural texture effects
- 1k, 2k supported, detailed texture in 256mb memory

### UE2 (2002)
- DirectX 7 support
- mesh, terrains, larger outdoor environments, vehicles
- foliage and particle
- basic material
- vertex lighting

### UE3 (2006)
- DirectX 9 support
- forward rendering
- even larger outdoor environments
- full lightmapping, dynamic shadows

### UE4 (2014)
- handle any style (not only high realism)
- scalabiliy, from indipendable to AAA
- over game egine
  - better fidelity, architecture, pipeline, flexibility

### UE5 (2022)
- Nanite
- Lumen
- Niagara

## Schematic Schematic
1. Ahead of Rendering
2. Visibility Features
3. Start of Rendering
4. BasePass
   - BasePass Material
     - Geometry
	 - Precomputed Lighting
5. GBuffer
6. Dynamic Light & Shadow
7. Reflections
8. Additional
   - Translucency
   - Atmospherics
   - Etc
9. Post Processing
10. Final Frame
    - Scalability and Performance


# Schematic Overview

![image](../rendering_18x24.png)    
[Full size (4MB)](../rendering_poster.png)    

## Ahead of Rendering (Frame 0, CPU)

### All Logic
> deciding what to render    
- Gameplay
- Animation
- Physics
- etc..

### Visibility (Frame 1, CPU)
> check what can be seen by camera.    
> process lighter tasks first to reduce calcuration candidates    
- Occlusion/Visibility Processes
  1. Distance Culling (Lightest)
     - not enabled by default (recommended)
     - by `CullDistanceVolume`
	   - or you have to set Desired Max Draw Distance for every actors (annoying)
  2. Frustum Culling
     - standard enabled
	 - why you have to disable this?
  3. Precomputed Visibility
     - not enabled by default (optional)
     - enable with World Setting property
     - Good for space-time tradeoff
	   - use memmory to reduce cpu cost
     - by `PrecomputedVisibilityVolume`
  4. Visibility Culling (Heaviest)
     - standard enabled
     - heavy
     - check with `freezerendering`
     - Hardware Occlusion
       - use every mesh as occluder
  	   - not work in every devices (so engine need Software Occlusion)
     - Software Occlusion
       - uses Mesh LODs as occluder

## Start of Rendering (Frame 2, GPU)

### Early Z Pass
- Scene Depth
- used for deferred rendering pipeline

### Basepass
> Act of rendering all geometries    
> can check with GPU compiler    
- Drawcalls
  - HLOD
  - Static Meshes
  - Instanced Meshes
  - Skeletal Meshes
  - Landscapes
  - Procedural Meshes
  - Geometry Collection
  - ... etc (Geometry, 3D to render)
- Dynamic Instancing
  > automatically batch drawcalls    
  - enabled by default
- Basspass Materials
  > unreal's defered rendering don't render every materials at once but render basic materials here (without shadow, blending, etc)    
  - Lightmaps
		Generated by Lightmass

### Static Lighting/Shadows

### GBuffer
- Buffer A
- Buffer B
- Buffer C
- Buffer D
- Buffer E

### Dyanmic Lighting/Shadows

### Reflections

### Additional

### Post Processing

## Final Frame (Frame N, )

### Performance

### Scalability Example



Plugin : RenderDoc
- data, 



# Advice

 